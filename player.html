<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø´ØºÙ„ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- Wrapper Ø®Ø§Øµ Ø¨Ø§Ù„Ø¯ÙˆØ±Ø§Ù† -->
  <div id="rotate-wrapper">

    <div class="player-card">

      <img src="VoiceBook.png" alt="ØµÙˆØ±Ø©" class="logo">

      <h2 id="title">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©...</h2>

      <audio id="audio" controls autoplay></audio>

      <div class="controls">
        <button class="icon-btn" onclick="rotateOn()">ğŸ”</button>
        <button class="icon-btn" onclick="rotateOff()">ğŸ”ƒ</button>
        <button class="icon-btn" onclick="history.back()">â</button>
      </div>

      <!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ù…Ù† -->
      <div class="time-controller">
        <button onclick="decreaseTime()">â–</button>
        <span id="timeValue">0</span>
        <button onclick="increaseTime()">â•</button>
        <button class="go-btn" onclick="goToTime()">GO</button>
      </div>

      <div class="footer">Ù…ÙƒØªØ¨Ø© Ø§Ù„ÙƒØªØ¨ Ø§Ù„ØµÙˆØªÙŠØ©</div>
      <div class="footer">Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ : Ù… / ÙˆØ³Ø§Ù… ØµÙ„Ø§Ø­ Ø¬ÙˆØ¯Ø©</div>

    </div>

  </div>

  <!-- Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© -->
  <script>
    const params = new URLSearchParams(window.location.search);
    const title = params.get('title') || '';
    const src = params.get('src');

    document.getElementById('title').textContent = `Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø±Ù‚Ù… ${title}`;
    document.getElementById('audio').src = src;
  </script>

  <!-- ÙƒÙˆØ¯ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¹Ø¯Ø§Ø¯ -->
  <script>
  const audio = document.getElementById('audio');
  const timeValueEl = document.getElementById('timeValue');

  let currentMinutes = 0; // Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
  let maxMinutes = 0;     // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚

  // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª Ù†Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
  audio.addEventListener('loadedmetadata', () => {
    maxMinutes = Math.floor(audio.duration / 60); // Ù…Ø¯Ø© Ø§Ù„ØµÙˆØª Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
    if (maxMinutes < 1) maxMinutes = 1; // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø©
  });

  function increaseTime() {
    if (currentMinutes < maxMinutes) {
      currentMinutes++;
      updateTime();
    }
  }

  function decreaseTime() {
    if (currentMinutes > 0) {
      currentMinutes--;
      updateTime();
    }
  }

  function goToTime() {
    audio.currentTime = currentMinutes * 60; // ØªØ­ÙˆÙŠÙ„ Ø¯Ù‚Ø§Ø¦Ù‚ â†’ Ø«ÙˆØ§Ù†ÙŠ
    audio.play();
  }

  function updateTime() {
    timeValueEl.textContent = currentMinutes;
  }
</script>


</body>
</html>
